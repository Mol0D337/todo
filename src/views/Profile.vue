<template>
  <div class="waveWrapper waveAnimation">

    <div class="bck">
      <ConversationalForm @submit="submit" class="position">
        <fieldset>
          <label for="email" >–ü—Ä–∏–≤–µ—Ç! –ö–∞–∫ –≤–∞—à–µ –∏–º—è?</label>
          <input pattern="^[a-zA-Z–ê-–Ø–∞-—è]+$"
                 data-invalid="–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä–µ–∫—Ç–Ω–æ–µ –∏–º—è."
                 data-question="–ü—Ä–∏–≤–µ—Ç! –ö–∞–∫ –≤–∞—à–µ –∏–º—è? "
                 type="text"
                 name="email"
                 id="name">
        </fieldset>
        <fieldset>
          <label for="surname">{email}, –ö–∞–∫ –≤–∞—à–∞ —Ñ–∞–º–∏–ª–∏—è?</label>
          <input required
                 pattern="^[a-zA-Z–ê-–Ø–∞-—è]+$"
                 data-invalid="–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä–µ–∫—Ç–Ω—É—é —Ñ–∞–º–∏–ª–∏—é."
                 data-question="{email}, –ö–∞–∫ –≤–∞—à–∞ —Ñ–∞–º–∏–ª–∏—è? "
                 type="text" name="surname" id="surname">
        </fieldset>
        <fieldset>
          <label for="name">–ü–æ–ª</label><br />
          <input type="radio" data-question="{email} {surname}, –ö–∞–∫–æ–≥–æ –≤—ã –ø–æ–ª–∞?" name="gender" value="male" data-text="–ú—É–∂—Å–∫–æ–≥–æ" /> –ú—É–∂—Å–∫–æ–≥–æ<br>
          <input type="radio" name="gender" value="female" data-text="–ñ–µ–Ω—Å–∫–æ–≥–æ" /> –ñ–µ–Ω—Å–∫–æ–≥–æ<br>
          <input type="radio" name="gender" value="other" data-text="–Ø –¢–µ–ª–µ–ø—É–∑–∏–∫" /> –Ø –¢–µ–ª–µ–ø—É–∑–∏–∫
        </fieldset>

        <fieldset>
          <label for="age">{email} {surname}, –ö–∞–∫–æ–π —É –≤–∞—Å –≤–æ–∑—Ä–∞—Å—Ç?</label>
          <input required
                 pattern="[0-9]{2}"
                 data-invalid="–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä–µ–∫—Ç–Ω—ã–π –≤–æ–∑—Ä–∞—Å—Ç."
                 data-question="{email} {surname}, –ö–∞–∫–æ–π —É –≤–∞—Å –≤–æ–∑—Ä–∞—Å—Ç? "
                 type="number" name="age" id="age">
        </fieldset>

        <fieldset>
          <label for="opinion">{email} {surname}, –ö–∞–∫–∞—è —É –≤–∞—Å –ø—Ä–æ—Ñ–µ—Å—Å–∏—è?</label>
          <select data-question="{email} {surname}, –ö–∞–∫–∞—è —É –≤–∞—Å –ø—Ä–æ—Ñ–µ—Å—Å–∏—è?" name="opinion" id="opinion">
            <option></option>
            <option>HR</option>
            <option>Team Lead</option>
            <option>–ü–∏—á–µ–Ω—å–∫–∞</option>
          </select>
        </fieldset>
        <fieldset>
          <label for="company">Company</label>
          <input data-question="{opinion}, –æ—Ç–ª–∏—á–Ω–æ! –í –∫–∞–∫–æ–π –∫–æ–º–ø–∞–Ω–∏–µ–π –≤—ã —Ä–∞–±–æ—Ç–∞–µ—Ç–µ?" type="text" name="company" id="company">
        </fieldset>
        <fieldset>
          <label >{email} {surname}, –í—ã –≥–æ—Ç–æ–≤—ã –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–æ—Ä–º—É?</label>
          <button data-question="{email} {surname}, –í—ã –≥–æ—Ç–æ–≤—ã –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–æ—Ä–º—É?" data-success="–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ! –£—Ä–∞! üòÑ" name="submit" type="submit" data-cancel="–ù–µ—Ç">–î–∞</button>
        </fieldset>
        <fieldset>
          <label >–•–æ—Ç–∏—Ç–µ –Ω–∞—á–∞—Ç—å –≤—Å–µ —Å–Ω–∞—á–∞–ª–∞?</label>
          <button data-question="–•–æ—Ç–∏—Ç–µ –Ω–∞—á–∞—Ç—å –≤—Å–µ —Å–Ω–∞—á–∞–ª–∞?" name="reset" type="reset" data-cancel="–ù–µ—Ç">–î–∞</button>
        </fieldset>
      </ConversationalForm>
    </div>

    <div class="waveWrapperInner bgTop">
      <div class="wave waveTop" style="background-image: url('http://front-end-noobs.com/jecko/img/wave-top.png')"></div>
    </div>
    <div class="waveWrapperInner bgMiddle">
      <div class="wave waveMiddle" style="background-image: url('http://front-end-noobs.com/jecko/img/wave-mid.png')"></div>
    </div>
    <div class="waveWrapperInner bgBottom">
      <div class="wave waveBottom" style="background-image: url('http://front-end-noobs.com/jecko/img/wave-bot.png')"></div>
    </div>
  </div>

</template>

<script>
  import ConversationalForm from 'vue-conversational-form'
  export default {
    name: "Profile",
    components: {
      ConversationalForm
    },
    methods: {
      submit (profile) {
        localStorage.setItem('userProfile', 'yes');
        this.$store.dispatch('createProfile', profile);
        setTimeout(function(){
          location.reload()
        }, 1800);
        this.$router.push('/profile');
      }
    }
  }
</script>

<style scoped lang="sass">
  .bck
    z-index: 50
    width: 100vw
    height: calc(100vh - 64px)
    margin-top: 50px
    display: flex
    align-items: center
    justify-content: center
    position: absolute

  .position
    position: absolute
    top: 50%
    left: 50%
    transform: translate(-50%,-50%)

</style>
